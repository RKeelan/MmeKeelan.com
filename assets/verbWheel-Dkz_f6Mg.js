import"./styles-D1rYwrA-.js";import{g as y,a as R}from"./utils-CQubTieH.js";const c=["être","avoir","aller","faire","pouvoir","vouloir","savoir"],w=["Je","Tu","Il/Elle/On","Nous","Vous","Ils/Elles"],P=y(c.length),m=document.getElementById("pronoun-reel");if(!m)throw new Error("pronoun-reel element not found");const l=document.getElementById("timer");if(!l)throw new Error("timer element not found");const p=document.getElementById("spin-button");if(!p)throw new Error("spin-button element not found");const e=document.getElementById("wheel");if(!e)throw new Error("wheel canvas element not found");const t=e.getContext("2d");if(!t)throw new Error("2d context not supported");let h=0,g=0,I=null,u=null,s=10;const i=new Image;i.src=R;const N=-Math.PI/2,_=10,b=.05,C=3,D=3,B=10,F=.65,W=2500;i.onload=()=>{S(),m.style.transform="translateY(0px)"};function Y(){if(!t)return;const o=c.length,n=2*Math.PI/o,a=e.width/2,r=e.height/2,d=e.width/2-B;t.font="16px Arial",t.textAlign="center",t.textBaseline="middle",c.forEach((A,f)=>{const M=Math.PI+n/2,T=f*n+M,v=(f+1)*n+M;t.beginPath(),t.moveTo(a,r),t.arc(a,r,d,T,v),t.closePath(),t.fillStyle=P[f%P.length],t.fill(),t.strokeStyle="#a0a0a0",t.stroke(),t.save(),t.translate(a,r);const x=T+n+Math.PI-n/2;t.rotate(x),t.fillStyle="#000000";const O=d*F;t.fillText(A,-O,0),t.restore()})}function L(){if(!t)return;const o=e.width/2,n=e.height/2;t.save(),t.translate(o,n),t.rotate(N),t.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),t.restore()}function S(){t&&(t.clearRect(0,0,e.width,e.height),t.save(),t.translate(e.width/2,e.height/2),t.rotate(h),t.translate(-e.width/2,-e.height/2),Y(),t.restore(),L())}function E(){const o=g-h;Math.abs(o)<.001?(h=g,I&&cancelAnimationFrame(I),I=null,U()):(h+=o*b,I=requestAnimationFrame(E)),S()}function U(){u&&clearInterval(u),s=_,l.textContent=String(s),l.style.color="green",u=setInterval(()=>{s--,l.textContent=String(s),s<=5&&s>3?l.style.color="orange":s<=3&&s>=0&&(l.style.color="red"),s<0&&(u&&clearInterval(u),l.textContent="Temps écoulé!")},1e3)}function X(o){const n=w.indexOf(o),a=80,r=3,d=-(n*a),f=d-r*w.length*a;m.style.transform=`translateY(${f}px)`,setTimeout(()=>{m.style.transition="none",m.style.transform=`translateY(${d}px)`,setTimeout(()=>{m.style.transition="transform 2.5s cubic-bezier(0.2, 0.1, 0.4, 1)"},50)},W)}p.addEventListener("click",()=>{if(I)return;const o=w[Math.floor(Math.random()*w.length)],n=c[Math.floor(Math.random()*c.length)];X(o);const a=c.indexOf(n),r=2*Math.PI/c.length;g=-(a*r+r/2)+r/2,h=h%(2*Math.PI);const A=C+Math.floor(Math.random()*D);for(;g<h+2*Math.PI;)g+=2*Math.PI;g+=A*2*Math.PI,E()});
