import"./styles-D53X4BdP.js";import{a as v,g as B}from"./utils-CQubTieH.js";const e=document.getElementById("wheel");if(!e)throw new Error("Canvas element not found or not supported");const t=e.getContext("2d");if(!t)throw new Error("2D context not supported");let s=0,i=0,c=[],d=-1;const y=2,o=new Image;o.src=v;o.onload=function(){m()};function p(){const n=document.getElementById("wordsInput");if(!n)return;c=n.value.split(/,+/).filter(r=>r.trim()),s=c.length,s>0&&(i=Math.PI*2/s)}function h(){if(!e||!t)return;t.clearRect(0,0,e.width,e.height);let n=Math.PI*1.5;const a=5,r=Math.min(e.width,e.height)-a*2,u=B(s);for(let l=0;l<s;l++)t.beginPath(),t.moveTo(e.width/2,e.height/2),t.arc(r/2+a,r/2+a,r/2,n,n+i),t.fillStyle=u[l],t.fill(),t.strokeStyle="#000",t.stroke(),n+=i;n=Math.PI*1.5;for(let l=0;l<s;l++){const w=e.width/2-50,f=n+i/2,I=e.width/2+w*Math.cos(f),E=e.height/2+w*Math.sin(f);t.textAlign="center",t.fillStyle="#000",t.font="16px Baskerville",t.fillText(c[l],I,E),n+=i}}function m(){!e||!t||(t.save(),t.translate(e.width/2,e.height/2),t.rotate(o.angle),t.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),t.restore())}function g(){h(),m(),o.angle+=i,(d<0||d-- >0)&&window.requestAnimationFrame(g)}function M(){p(),h(),o.angle=i/2;const n=document.getElementById("spin");n&&n.addEventListener("click",function(){d=Math.round(c.length+Math.random()*c.length*(y-1)),window.requestAnimationFrame(g)});const a=document.getElementById("start");a&&a.addEventListener("click",function(){d=-1,window.requestAnimationFrame(g)});const r=document.getElementById("stop");r&&r.addEventListener("click",function(){d=0});const u=document.getElementById("wordsInput");u&&u.addEventListener("input",function(){p(),o.angle=Math.round(o.angle/i)*i-i/2,h(),m()})}M();
