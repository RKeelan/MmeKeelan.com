import"./styles-D53X4BdP.js";import{g as x,a as y}from"./utils-CQubTieH.js";import{S as N}from"./string-reel-DBpcUH-w.js";const i=["être","avoir","aller","faire","pouvoir","vouloir","savoir"],w=["Je","Tu","Il/Elle/On","Nous","Vous","Ils/Elles"],p=x(i.length),E=document.getElementById("pronoun-reel");if(!E)throw new Error("pronoun-reel element not found");const _=new N(E,w,{itemClassName:"pronoun-item"}),a=document.getElementById("timer");if(!a)throw new Error("timer element not found");const T=document.getElementById("spin-button");if(!T)throw new Error("spin-button element not found");const e=document.getElementById("wheel");if(!e)throw new Error("wheel canvas element not found");const t=e.getContext("2d");if(!t)throw new Error("2d context not supported");let c=0,h=0,g=null,d=null,o=10;const s=new Image;s.src=y;const C=-Math.PI/2,b=10,D=.05,B=3,F=3,W=10,L=.65;s.onload=()=>{v()};function X(){if(!t)return;const r=i.length,n=2*Math.PI/r,m=e.width/2,l=e.height/2,f=e.width/2-W;t.font="16px Arial",t.textAlign="center",t.textBaseline="middle",i.forEach((u,I)=>{const A=Math.PI+n/2,M=I*n+A,R=(I+1)*n+A;t.beginPath(),t.moveTo(m,l),t.arc(m,l,f,M,R),t.closePath(),t.fillStyle=p[I%p.length],t.fill(),t.strokeStyle="#a0a0a0",t.stroke(),t.save(),t.translate(m,l);const S=M+n+Math.PI-n/2;t.rotate(S),t.fillStyle="#000000";const O=f*L;t.fillText(u,-O,0),t.restore()})}function k(){if(!t)return;const r=e.width/2,n=e.height/2;t.save(),t.translate(r,n),t.rotate(C),t.drawImage(s,-s.width/2,-s.height/2,s.width,s.height),t.restore()}function v(){t&&(t.clearRect(0,0,e.width,e.height),t.save(),t.translate(e.width/2,e.height/2),t.rotate(c),t.translate(-e.width/2,-e.height/2),X(),t.restore(),k())}function P(){const r=h-c;Math.abs(r)<.001?(c=h,g&&cancelAnimationFrame(g),g=null,U()):(c+=r*D,g=requestAnimationFrame(P)),v()}function U(){d&&clearInterval(d),o=b,a.textContent=String(o),a.style.color="green",d=setInterval(()=>{o--,a.textContent=String(o),o<=5&&o>3?a.style.color="orange":o<=3&&o>=0&&(a.style.color="red"),o<0&&(d&&clearInterval(d),a.textContent="Temps écoulé!")},1e3)}T.addEventListener("click",()=>{if(g)return;const r=w[Math.floor(Math.random()*w.length)],n=i[Math.floor(Math.random()*i.length)];_.animateTo(r);const m=i.indexOf(n),l=2*Math.PI/i.length;h=-(m*l+l/2)+l/2,c=c%(2*Math.PI);const u=B+Math.floor(Math.random()*F);for(;h<c+2*Math.PI;)h+=2*Math.PI;h+=u*2*Math.PI,P()});
